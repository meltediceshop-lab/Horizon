{% comment %}
  FOOTER DINÁMICO PRO - Estilo Juguettos
  Permite crear columnas, editar tamaños de texto y gestionar enlaces dinámicamente.
{% endcomment %}

<footer class="jgt-footer-pro" style="background-color: {{ section.settings.bg_color }}; color: {{ section.settings.text_color }};">
  <div class="jgt-footer-wrapper">
    
    <div class="jgt-footer-grid">
      {% for block in section.blocks %}
        <div class="jgt-footer-col" {{ block.shopify_attributes }}>
          
          <h3 class="jgt-footer-h3" style="font-size: {{ section.settings.title_size }}px;">
            {{ block.settings.title }}
          </h3>
          
          {% case block.type %}
            {% when 'menu_column' %}
              <ul class="jgt-footer-list">
                {% for link in block.settings.menu.links %}
                  <li>
                    <a href="{{ link.url }}" style="font-size: {{ section.settings.link_size }}px;">
                      {{ link.title }}
                    </a>
                  </li>
                {% endfor %}
              </ul>

            {% when 'social_column' %}
              <ul class="jgt-footer-social-list">
                {% if block.settings.blog_url != blank %}
                  <li><a href="{{ block.settings.blog_url }}"><span class="icon">{% render 'icon-rss' %}</span> Blog</a></li>
                {% endif %}
                {% if block.settings.fb_url != blank %}
                  <li><a href="{{ block.settings.fb_url }}"><span class="icon">{% render 'icon-facebook' %}</span> Facebook</a></li>
                {% endif %}
                {% if block.settings.yt_url != blank %}
                  <li><a href="{{ block.settings.yt_url }}"><span class="icon">{% render 'icon-youtube' %}</span> Youtube</a></li>
                {% endif %}
                {% if block.settings.ig_url != blank %}
                  <li><a href="{{ block.settings.ig_url }}"><span class="icon">{% render 'icon-instagram' %}</span> Instagram</a></li>
                {% endif %}
                {% if block.settings.tk_url != blank %}
                  <li><a href="{{ block.settings.tk_url }}"><span class="icon">{% render 'icon-tiktok' %}</span> Tiktok</a></li>
                {% endif %}
              </ul>
          {% endcase %}
          
        </div>
      {% endfor %}
    </div>

  </div>

  {% if section.settings.show_float_btns %}
    <div class="jgt-float-container">
      <a href="{{ section.settings.chat_url }}" class="jgt-float-chat">
        <svg viewBox="0 0 24 24"><path fill="currentColor" d="M12 2C6.477 2 2 6.477 2 12c0 1.821.487 3.53 1.338 5L2 22l5-1.338C8.47 21.513 10.179 22 12 22c5.523 0 10-4.477 10-10S17.523 2 12 2zm0 18c-1.477 0-2.883-.394-4.089-1.082l-.293-.169-3.003.804.804-3.003-.169-.293A7.957 7.957 0 014 12c0-4.411 3.589-8 8-8s8 3.589 8 8-3.589 8-8 8z"/></svg>
      </a>
      <a href="https://wa.me/{{ section.settings.wa_number }}" class="jgt-float-wa">
        <svg viewBox="0 0 24 24"><path fill="currentColor" d="M12.031 6.172c-3.181 0-5.767 2.586-5.767 5.767 0 1.258.405 2.422 1.093 3.37l-.714 2.605 2.664-.699c.82.505 1.774.794 2.796.794 3.181 0 5.767-2.586 5.767-5.767s-2.586-5.767-5.767-5.767zm3.388 8.163c-.144.405-.729.742-1.011.787-.27.045-.607.067-1.147-.135-.293-.112-.66-.255-1.121-.454-1.954-.84-3.218-2.842-3.315-2.97-.097-.128-.787-1.047-.787-1.996 0-.949.495-1.416.674-1.619.18-.202.394-.255.525-.255s.262.007.375.012c.119.005.281-.045.441.335.163.387.558 1.358.607 1.458.05.1.083.217.016.35s-.1.217-.2.335c-.1.117-.21.262-.3.375-.105.121-.215.253-.092.464.123.21.547.904 1.173 1.464.806.721 1.484.945 1.696 1.053.21.108.334.09.46-.054.125-.144.538-.626.683-.841.144-.215.289-.18.487-.108s1.255.592 1.471.699c.217.108.361.163.414.255.054.09.054.525-.09.93z"/></svg>
      </a>
    </div>
  {% endif %}
</footer>

<style>
  .jgt-footer-pro { padding: 60px 0 40px; border-top: 1px solid rgba(255,255,255,0.1); }
  .jgt-footer-wrapper { max-width: 1440px; margin: 0 auto; padding: 0 40px; }
  .jgt-footer-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 30px; }
  
  .jgt-footer-h3 { 
    font-weight: 700; margin-bottom: 20px; padding-bottom: 8px; 
    border-bottom: 1px solid rgba(255,255,255,0.3); display: inline-block; min-width: 120px;
  }

  .jgt-footer-list, .jgt-footer-social-list { list-style: none; padding: 0; margin: 0; }
  .jgt-footer-list li, .jgt-footer-social-list li { margin-bottom: 12px; }
  .jgt-footer-list a, .jgt-footer-social-list a { 
    color: inherit; text-decoration: none; display: flex; align-items: center; gap: 10px; transition: opacity 0.2s;
  }
  .jgt-footer-list a:hover { opacity: 0.7; }
  
  .icon { width: 20px; height: 20px; display: flex; align-items: center; }
  .icon svg { width: 100%; height: 100%; fill: currentColor; }

  /* Flotantes */
  .jgt-float-container { position: fixed; bottom: 30px; width: 100%; display: flex; justify-content: space-between; padding: 0 30px; pointer-events: none; z-index: 999; }
  .jgt-float-chat, .jgt-float-wa { width: 60px; height: 60px; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; pointer-events: auto; box-shadow: 0 4px 12px rgba(0,0,0,0.2); }
  .jgt-float-chat { background: #1a5a7a; } /* Color chat image_ba2213.png */
  .jgt-float-wa { background: #25d366; }
  .jgt-float-chat svg, .jgt-float-wa svg { width: 35px; height: 35px; }

  @media (max-width: 768px) {
    .jgt-footer-grid { grid-template-columns: 1fr 1fr; }
    .jgt-footer-wrapper { padding: 0 20px; }
  }
</style>

{% schema %}
{
  "name": "Footer Dinámico PRO",
  "max_blocks": 5,
  "settings": [
    { "type": "color", "id": "bg_color", "label": "Fondo", "default": "#002266" },
    { "type": "color", "id": "text_color", "label": "Texto", "default": "#ffffff" },
    { "type": "range", "id": "title_size", "min": 12, "max": 24, "step": 1, "unit": "px", "label": "Tamaño Títulos", "default": 18 },
    { "type": "range", "id": "link_size", "min": 10, "max": 20, "step": 1, "unit": "px", "label": "Tamaño Enlaces", "default": 14 },
    { "type": "header", "content": "Botones Flotantes" },
    { "type": "checkbox", "id": "show_float_btns", "label": "Mostrar botones flotantes", "default": true },
    { "type": "text", "id": "wa_number", "label": "Número WhatsApp (ej: 34600000000)" },
    { "type": "url", "id": "chat_url", "label": "Enlace Chat" }
  ],
  "blocks": [
    {
      "type": "menu_column",
      "name": "Columna de Enlaces",
      "settings": [
        { "type": "text", "id": "title", "label": "Título Sección", "default": "Nueva Sección" },
        { "type": "link_list", "id": "menu", "label": "Menú (Subsecciones)" }
      ]
    },
    {
      "type": "social_column",
      "name": "Columna Comunidad",
      "settings": [
        { "type": "text", "id": "title", "label": "Título", "default": "Comunidad" },
        { "type": "url", "id": "blog_url", "label": "Blog" },
        { "type": "url", "id": "fb_url", "label": "Facebook" },
        { "type": "url", "id": "yt_url", "label": "Youtube" },
        { "type": "url", "id": "ig_url", "label": "Instagram" },
        { "type": "url", "id": "tk_url", "label": "Tiktok" }
      ]
    }
  ],
  "presets": [
    {
      "name": "Footer Dinámico PRO",
      "blocks": [
        { "type": "menu_column", "settings": { "title": "Quiénes somos" } },
        { "type": "menu_column", "settings": { "title": "Atención al cliente" } },
        { "type": "menu_column", "settings": { "title": "Promociones" } },
        { "type": "social_column", "settings": { "title": "Comunidad" } }
      ]
    }
  ]
}
{% endschema %}