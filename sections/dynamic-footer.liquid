{% comment %}
  FOOTER DINÁMICO JGT - Versión con Títulos Visibles y 10 Subsecciones
{% endcomment %}

<footer class="jgt-footer-v4" style="background-color: {{ section.settings.bg_color }}; color: {{ section.settings.text_color }};">
  <div class="jgt-footer-container">
    
    <div class="jgt-footer-grid">
      {% for block in section.blocks %}
        <div class="jgt-footer-column" {{ block.shopify_attributes }}>
          
          <div class="jgt-footer-header-box">
            {% if block.settings.title != blank %}
              <h3 class="jgt-column-title" style="font-size: {{ section.settings.title_size }}px;">
                {% if block.settings.title_link != blank %}
                  <a href="{{ block.settings.title_link }}" style="color: inherit; text-decoration: none;">{{ block.settings.title }}</a>
                {% else %}
                  {{ block.settings.title }}
                {% endif %}
              </h3>
            {% endif %}
          </div>
          
          <div class="jgt-footer-content">
            {% case block.type %}
              {% when 'custom_links' %}
                <ul class="jgt-footer-list">
                  {%- for i in (1..10) -%}
                    {%- capture text_id -%}link_text_{{ i }}{%- endcapture -%}
                    {%- capture url_id -%}link_url_{{ i }}{%- endcapture -%}
                    {%- assign link_text = block.settings[text_id] -%}
                    {%- assign link_url = block.settings[url_id] -%}
                    
                    {%- if link_text != blank -%}
                      <li>
                        <a href="{{ link_url | default: '#' }}" style="font-size: {{ section.settings.link_size }}px; color: {{ section.settings.text_color }};">
                          {{ link_text }}
                        </a>
                      </li>
                    {%- endif -%}
                  {%- endfor -%}
                </ul>

              {% when 'social_column' %}
                <ul class="jgt-footer-social-list">
                  {% if block.settings.fb_url != blank %}<li><a href="{{ block.settings.fb_url }}">Facebook</a></li>{% endif %}
                  {% if block.settings.ig_url != blank %}<li><a href="{{ block.settings.ig_url }}">Instagram</a></li>{% endif %}
                  {% if block.settings.yt_url != blank %}<li><a href="{{ block.settings.yt_url }}">Youtube</a></li>{% endif %}
                  {% if block.settings.tk_url != blank %}<li><a href="{{ block.settings.tk_url }}">Tiktok</a></li>{% endif %}
                </ul>
            {% endcase %}
          </div>
          
        </div>
      {% endfor %}
    </div>

  </div>
</footer>

<style>
  .jgt-footer-v4 { padding: 50px 0; border-top: 1px solid rgba(255,255,255,0.1); }
  .jgt-footer-container { max-width: 1440px; margin: 0 auto; padding: 0 40px; }
  .jgt-footer-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 40px; }
  
  /* Estilo del Título de Sección */
  .jgt-column-title { 
    font-weight: 700; margin-bottom: 25px; padding-bottom: 10px; 
    border-bottom: 1px solid rgba(255,255,255,0.4); display: inline-block;
    min-width: 140px;
  }

  .jgt-footer-list, .jgt-footer-social-list { list-style: none; padding: 0; margin: 0; }
  .jgt-footer-list li { margin-bottom: 12px; }
  .jgt-footer-list a { text-decoration: none; transition: opacity 0.2s; }
  .jgt-footer-list a:hover { opacity: 0.7; }

  @media (max-width: 768px) {
    .jgt-footer-grid { grid-template-columns: 1fr; gap: 30px; }
    .jgt-column-title { min-width: 100%; }
  }
</style>

{% schema %}
{
  "name": "Footer Dinámico JGT",
  "settings": [
    { "type": "color", "id": "bg_color", "label": "Color Fondo", "default": "#002266" },
    { "type": "color", "id": "text_color", "label": "Color Texto", "default": "#ffffff" },
    { "type": "range", "id": "title_size", "min": 12, "max": 24, "step": 1, "unit": "px", "label": "Tamaño Títulos", "default": 18 },
    { "type": "range", "id": "link_size", "min": 10, "max": 20, "step": 1, "unit": "px", "label": "Tamaño Enlaces", "default": 14 }
  ],
  "blocks": [
    {
      "type": "custom_links",
      "name": "Columna Manual",
      "settings": [
        { "type": "text", "id": "title", "label": "Título de la sección", "default": "Quiénes somos" },
        { "type": "url", "id": "title_link", "label": "Enlace del Título" },
        { "type": "header", "content": "Enlaces de Subsección" },
        { "type": "text", "id": "link_text_1", "label": "Subsección 1" }, { "type": "url", "id": "link_url_1", "label": "Enlace 1" },
        { "type": "text", "id": "link_text_2", "label": "Subsección 2" }, { "type": "url", "id": "link_url_2", "label": "Enlace 2" },
        { "type": "text", "id": "link_text_3", "label": "Subsección 3" }, { "type": "url", "id": "link_url_3", "label": "Enlace 3" },
        { "type": "text", "id": "link_text_4", "label": "Subsección 4" }, { "type": "url", "id": "link_url_4", "label": "Enlace 4" },
        { "type": "text", "id": "link_text_5", "label": "Subsección 5" }, { "type": "url", "id": "link_url_5", "label": "Enlace 5" },
        { "type": "text", "id": "link_text_6", "label": "Subsección 6" }, { "type": "url", "id": "link_url_6", "label": "Enlace 6" },
        { "type": "text", "id": "link_text_7", "label": "Subsección 7" }, { "type": "url", "id": "link_url_7", "label": "Enlace 7" },
        { "type": "text", "id": "link_text_8", "label": "Subsección 8" }, { "type": "url", "id": "link_url_8", "label": "Enlace 8" },
        { "type": "text", "id": "link_text_9", "label": "Subsección 9" }, { "type": "url", "id": "link_url_9", "label": "Enlace 9" },
        { "type": "text", "id": "link_text_10", "label": "Subsección 10" }, { "type": "url", "id": "link_url_10", "label": "Enlace 10" }
      ]
    },
    {
      "type": "social_column",
      "name": "Comunidad",
      "settings": [
        { "type": "text", "id": "title", "label": "Título", "default": "Comunidad" },
        { "type": "url", "id": "fb_url", "label": "Facebook" },
        { "type": "url", "id": "ig_url", "label": "Instagram" },
        { "type": "url", "id": "yt_url", "label": "Youtube" },
        { "type": "url", "id": "tk_url", "label": "Tiktok" }
      ]
    }
  ],
  "presets": [
    {
      "name": "Footer Dinámico JGT",
      "blocks": [
        { "type": "custom_links", "settings": { "title": "Quiénes somos" } }
      ]
    }
  ]
}
{% endschema %}