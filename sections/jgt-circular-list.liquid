{% comment %}
  Lista de Círculos Compactos (Sin texto)
{% endcomment %}

<section class="jgt-circles-compact" style="background-color: {{ section.settings.bg_color }};">
  <div class="jgt-circles-container">
    <div class="jgt-circles-flex-compact">
      {% for block in section.blocks %}
        {%- if block.settings.link != blank -%}
          <a href="{{ block.settings.link }}" class="jgt-circle-link">
        {%- else -%}
          <div class="jgt-circle-link">
        {%- endif -%}
          
          <div class="jgt-circle-img-small">
            {% if block.settings.image != blank %}
              <img src="{{ block.settings.image | image_url: width: 120, height: 120, crop: 'center' }}" loading="lazy">
            {% else %}
              <div class="jgt-circle-empty"></div>
            {% endif %}
          </div>

        {%- if block.settings.link != blank -%}
          </a>
        {%- else -%}
          </div>
        {%- endif -%}
      {% endfor %}
    </div>
  </div>
</section>

<style>
  /* Grosor de la sección reducido */
  .jgt-circles-compact { padding: 15px 0; border-bottom: 1px solid #eee; }
  
  .jgt-circles-container { max-width: 1400px; margin: 0 auto; padding: 0 20px; }
  
  .jgt-circles-flex-compact { 
    display: flex; flex-wrap: wrap; justify-content: center; gap: 12px; 
  }

  .jgt-circle-link { text-decoration: none; cursor: pointer; }

  /* Tamaño de los círculos reducido a estilo burbuja pequeña */
  .jgt-circle-img-small { 
    width: 60px; height: 60px; /* Tamaño similar a image_b85380.jpg */
    border-radius: 50%; overflow: hidden; 
    border: 1px solid #ddd; background-color: #fff;
    transition: transform 0.2s;
  }

  .jgt-circle-img-small:hover { transform: scale(1.1); border-color: #002266; }
  .jgt-circle-img-small img { width: 100%; height: 100%; object-fit: cover; }
  .jgt-circle-empty { width: 100%; height: 100%; background: #eee; }

  @media (max-width: 640px) {
    .jgt-circles-flex-compact { justify-content: flex-start; overflow-x: auto; padding-bottom: 10px; }
    .jgt-circle-img-small { width: 50px; height: 50px; }
  }
</style>

{% schema %}
{
  "name": "JGT Círculos Compactos",
  "settings": [
    { "type": "color", "id": "bg_color", "label": "Color de fondo", "default": "#ffffff" }
  ],
  "blocks": [
    {
      "type": "circle",
      "name": "Subcategoría",
      "settings": [
        { "type": "image_picker", "id": "image", "label": "Imagen circular" },
        { "type": "url", "id": "link", "label": "Enlace (Opcional)" }
      ]
    }
  ],
  "presets": [{ "name": "JGT Círculos Compactos" }]
}
{% endschema %}