<section class="jgt-banner" style="background-color: {{ section.settings.bg_color }};">
  <div class="jgt-banner-container" style="height: {{ section.settings.height }}px;">
    {%- assign banner_img = section.settings.custom_image | default: collection.image -%}
    {%- if banner_img != blank -%}
      <img src="{{ banner_img | image_url: width: 2000 }}" alt="{{ collection.title }}" class="jgt-banner-img">
      <div class="jgt-overlay" style="background: rgba(0,0,0,{{ section.settings.overlay | divided_by: 100.0 }});"></div>
    {%- endif -%}
    
    <div class="jgt-banner-content">
      <h1 style="color: {{ section.settings.text_color }}; font-size: {{ section.settings.font_size }}px;">
        {{ section.settings.title | default: collection.title }}
      </h1>
    </div>
  </div>
</header>

<style>
  .jgt-banner-container { position: relative; width: 100%; overflow: hidden; display: flex; align-items: center; justify-content: center; }
  .jgt-banner-img { position: absolute; width: 100%; height: 100%; object-fit: cover; z-index: 1; }
  .jgt-overlay { position: absolute; top:0; left:0; width:100%; height:100%; z-index: 2; }
  .jgt-banner-content { position: relative; z-index: 3; text-align: center; padding: 0 20px; }
  .jgt-banner-content h1 { margin: 0; font-weight: bold; text-transform: uppercase; }
</style>

{% schema %}
{
  "name": "JGT Banner Colección",
  "settings": [
    { "type": "image_picker", "id": "custom_image", "label": "Imagen personalizada (Sustituye a la de colección)" },
    { "type": "text", "id": "title", "label": "Título alternativo" },
    { "type": "range", "id": "height", "min": 150, "max": 600, "step": 10, "unit": "px", "label": "Altura del banner", "default": 300 },
    { "type": "range", "id": "font_size", "min": 20, "max": 60, "step": 2, "unit": "px", "label": "Tamaño de letra", "default": 40 },
    { "type": "range", "id": "overlay", "min": 0, "max": 80, "step": 10, "unit": "%", "label": "Oscurecer imagen", "default": 20 },
    { "type": "color", "id": "bg_color", "label": "Fondo (si no hay foto)", "default": "#f4f4f4" },
    { "type": "color", "id": "text_color", "label": "Color texto", "default": "#ffffff" }
  ],
  "presets": [ { "name": "JGT Banner Colección" } ]
}
{% endschema %}