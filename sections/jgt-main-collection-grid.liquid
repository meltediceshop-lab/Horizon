{% paginate collection.products by section.settings.products_per_page %}
<section class="jgt-grid-section">
  <div class="jgt-grid-layout">
    
    <aside class="jgt-filters">
      <form class="filter-form">
        {%- for filter in collection.filters -%}
          <div class="filter-group">
            <p class="filter-title">{{ filter.label }}</p>
            <div class="filter-values">
              {%- for value in filter.values -%}
                <label>
                  <input type="checkbox" name="{{ value.param_name }}" value="{{ value.value }}" {% if value.active %}checked{% endif %}>
                  {{ value.label }} ({{ value.count }})
                </label>
              {%- endfor -%}
            </div>
          </div>
        {%- endfor -%}
        <button type="submit" class="apply-btn">Aplicar</button>
      </form>
    </aside>

    <div class="jgt-products">
      <div class="jgt-products-grid">
        {% for product in collection.products %}
          <a href="{{ product.url }}" class="jgt-card">
            <img src="{{ product.featured_image | image_url: width: 400 }}">
            <h3>{{ product.title }}</h3>
            <p>{{ product.price | money }}</p>
          </a>
        {% endfor %}
      </div>
    </div>

  </div>
</section>
{% endpaginate %}

<style>
  .jgt-grid-section { max-width: 1400px; margin: 40px auto; padding: 0 20px; }
  .jgt-grid-layout { display: grid; grid-template-columns: 250px 1fr; gap: 40px; }
  .filter-group { border-bottom: 1px solid #eee; padding: 15px 0; }
  .filter-title { font-weight: bold; margin-bottom: 10px; color: #002266; }
  .filter-values label { display: block; font-size: 13px; margin-bottom: 5px; cursor: pointer; }
  .jgt-products-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px; }
  .jgt-card { text-decoration: none; color: inherit; text-align: center; border: 1px solid #eee; padding: 15px; border-radius: 8px; }
  .jgt-card img { width: 100%; height: auto; }
  .jgt-card h3 { font-size: 14px; margin: 10px 0; color: #002266; }
  .apply-btn { background: #002266; color: white; border: none; padding: 10px; width: 100%; margin-top: 15px; border-radius: 20px; cursor: pointer; }
</style>

{% schema %}
{
  "name": "JGT Parrilla y Filtros",
  "settings": [
    { "type": "range", "id": "products_per_page", "min": 6, "max": 48, "step": 6, "label": "Productos por p√°gina", "default": 24 }
  ],
  "presets": [ { "name": "JGT Parrilla y Filtros" } ]
}
{% endschema %}