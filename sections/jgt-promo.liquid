<style>
  .jgt-promo-section {
    padding: {{ section.settings.padding_top }}px 0 {{ section.settings.padding_bottom }}px 0;
    background-color: {{ section.settings.bg_color }};
  }
  .jgt-promo-container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 20px;
  }
  .jgt-promo-grid {
    display: grid;
    grid-template-columns: repeat({{ section.settings.columns_desktop }}, 1fr);
    gap: 20px;
  }
  .jgt-promo-card {
    position: relative;
    display: block;
    border-radius: 12px;
    overflow: hidden;
    text-decoration: none;
    transition: transform 0.3s ease, box-shadow 0.3s ease;
  }
  .jgt-promo-card:hover {
    transform: translateY(-4px);
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15);
  }
  .jgt-promo-card img {
    width: 100%;
    height: auto;
    display: block;
    object-fit: cover;
  }
  @media (max-width: 768px) {
    .jgt-promo-grid {
      grid-template-columns: 1fr;
    }
  }
</style>

<section class="jgt-promo-section">
  <div class="jgt-promo-container">
    <div class="jgt-promo-grid">
      {% for block in section.blocks %}
        <a href="{{ block.settings.link }}" class="jgt-promo-card" {{ block.shopify_attributes }}>
          {% if block.settings.image != blank %}
            {{ block.settings.image | image_url: width: 800 | image_tag: 
              loading: 'lazy', 
              alt: block.settings.image.alt | default: "Promo Juguettos",
              widths: '400, 600, 800' 
            }}
          {% else %}
            {{ 'image' | placeholder_svg_tag: 'placeholder-svg' }}
          {% endif %}
        </a>
      {% endfor %}
    </div>
  </div>
</section>

{% schema %}
{
  "name": "JGT Promociones Dinámicas",
  "tag": "section",
  "class": "section-jgt-promo",
  "max_blocks": 6,
  "settings": [
    {
      "type": "color",
      "id": "bg_color",
      "label": "Color de fondo",
      "default": "#f8f8f8"
    },
    {
      "type": "range",
      "id": "columns_desktop",
      "min": 2,
      "max": 4,
      "step": 1,
      "label": "Columnas en escritorio",
      "default": 3
    },
    {
      "type": "range",
      "id": "padding_top",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "Padding Superior",
      "default": 40
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "Padding Inferior",
      "default": 40
    }
  ],
  "blocks": [
    {
      "type": "image_block",
      "name": "Imagen Promocional",
      "settings": [
        {
          "type": "image_picker",
          "id": "image",
          "label": "Selecciona la imagen"
        },
        {
          "type": "url",
          "id": "link",
          "label": "Enlace de la imagen"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "JGT Promociones Dinámicas",
      "blocks": [
        { "type": "image_block" },
        { "type": "image_block" },
        { "type": "image_block" }
      ]
    }
  ]
}
{% endschema %}